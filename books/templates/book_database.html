{% extends "base.html" %}
{% load static %}
{% block body_block %}

    <div class="page-header">
        <h1>Books</h1>
        <p class="lead">Discover and share books with the community</p>
    </div>

    <div class="book-grid">
        {% for book in books %}
            <a href="{% url 'single_book' pk=book.pk %}" class="book-card" style="text-decoration: none;">
                <div class="book-card-image-wrapper">
                    {% if book.thumbnail %}
                        <img src="{{ book.thumbnail }}" class="book-card-image" alt="{{ book.title }}">
                    {% else %}
                        <div class="book-card-placeholder">
                            <div>
                                <p style="margin: 0; font-weight: 600;">{{ book.title }}</p>
                                <p style="margin: var(--space-sm) 0 0; font-size: 0.75rem;">No cover available</p>
                            </div>
                        </div>
                    {% endif %}
                </div>
                <div class="book-card-content">
                    <div class="book-card-title">{{ book.title }}</div>
                    <div class="book-card-meta">
                        {% if book.owner.count > 0 %}
                            <span class="book-badge book-badge-success">{{ book.owner.count }} {% if book.owner.count == 1 %}copy{% else %}copies{% endif %}</span>
                        {% else %}
                            <span class="book-badge book-badge-warning">Wanted</span>
                        {% endif %}
                    </div>
                </div>
            </a>
        {% empty %}
            <div style="grid-column: 1 / -1; text-align: center; padding: var(--space-2xl); color: var(--text-muted);">
                <p>No books found. Start adding books to build your library!</p>
            </div>
        {% endfor %}
    </div>

{% endblock %}
